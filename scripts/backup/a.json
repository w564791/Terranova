{
  "resource_changes": [
    {
      "address": "module.ken-test-222222.module.policy[0].aws_iam_policy.this",
      "module_address": "module.ken-test-222222.module.policy[0]",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "this",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:iam::072107099780:policy/test/ken-test-222222",
          "attachment_count": 1,
          "description": "IAM Policy managed by Terraform",
          "id": "arn:aws:iam::072107099780:policy/test/ken-test-222222",
          "name": "ken-test-222222",
          "name_prefix": "",
          "path": "/test/",
          "policy": "{\"Statement\":[{\"Action\":[\"iam:ListAccountAliases\",\"iam:ListUsers\",\"iam:ChangePassword\",\"iam:CreateLoginProfile\",\"iam:DeleteLoginProfile\",\"iam:GetAccountPasswordPolicy\",\"iam:GetAccountSummary\",\"iam:GetLoginProfile\",\"iam:UpdateLoginProfile\",\"iam:ListVirtualMFADevices\",\"iam:ListMFADevices\",\"iam:CreateVirtualMFADevice\",\"iam:DeactivateMFADevice\",\"iam:DeleteVirtualMFADevice\",\"iam:EnableMFADevice\",\"iam:ResyncMFADevice\"],\"Condition\":{\"BoolIfExists\":{\"aws:MultiFactorAuthPresent\":\"false\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::*:user/*\",\"arn:aws:iam::*:user/${aws:username}\",\"arn:aws:iam::*:mfa/*\",\"arn:aws:iam::*:mfa/${aws:username}\"],\"Sid\":\"DoNotAllowAnythingOtherThanlistedwithoutMFAd\"}],\"Version\":\"2012-10-17\"}",
          "policy_id": "ANPARBSPLA2CLJKJ2OUY6",
          "tags": {
            "Name": "test",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "ken-test-222222",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          },
          "tags_all": {
            "Name": "test",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "ken-test-222222",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          }
        },
        "after": {
          "arn": "arn:aws:iam::072107099780:policy/test/ken-test-222222",
          "attachment_count": 1,
          "description": "IAM Policy managed by Terraform",
          "id": "arn:aws:iam::072107099780:policy/test/ken-test-222222",
          "name": "ken-test-222222",
          "name_prefix": "",
          "path": "/test/",
          "policy": "{\"Statement\":[{\"Action\":[\"iam:ListAccountAliases\",\"iam:ListUsers\",\"iam:ChangePassword\",\"iam:CreateLoginProfile\",\"iam:DeleteLoginProfile\",\"iam:GetAccountPasswordPolicy\",\"iam:GetAccountSummary\",\"iam:GetLoginProfile\",\"iam:UpdateLoginProfile\",\"iam:ListVirtualMFADevices\",\"iam:ListMFADevices\",\"iam:CreateVirtualMFADevice\",\"iam:DeactivateMFADevice\",\"iam:DeleteVirtualMFADevice\",\"iam:EnableMFADevice\",\"iam:ResyncMFADevice\"],\"Condition\":{\"BoolIfExists\":{\"aws:MultiFactorAuthPresent\":\"false\"}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:iam::*:user/*\",\"arn:aws:iam::*:user/${aws:username}\",\"arn:aws:iam::*:mfa/*\",\"arn:aws:iam::*:mfa/${aws:username}\"],\"Sid\":\"DoNotAllowAnythingOtherThanlistedwithoutMFAd\"}],\"Version\":\"2012-10-17\"}",
          "policy_id": "ANPARBSPLA2CLJKJ2OUY6",
          "tags": {
            "Name": "test",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-ken": "true",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "ken-test-222222",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          },
          "tags_all": {
            "Name": "test",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-ken": "true",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "ken-test-222222",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          }
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ken-test-222222.module.policy[0].aws_iam_role_policy_attachment.this[\"ken-test-222222\"]",
      "module_address": "module.ken-test-222222.module.policy[0]",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "this",
      "index": "ken-test-222222",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "ken-test-222222-20251014020116089200000002",
          "policy_arn": "arn:aws:iam::072107099780:policy/test/ken-test-222222",
          "role": "ken-test-222222"
        },
        "after": {
          "id": "ken-test-222222-20251014020116089200000002",
          "policy_arn": "arn:aws:iam::072107099780:policy/test/ken-test-222222",
          "role": "ken-test-222222"
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "module.ken-test-222222.module.role[0].aws_iam_instance_profile.this[0]",
      "module_address": "module.ken-test-222222.module.role[0]",
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "this",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:iam::072107099780:instance-profile/ops/ken-test-222222-instance-profile",
          "create_date": "2025-10-14T02:01:16Z",
          "id": "ken-test-222222-instance-profile",
          "name": "ken-test-222222-instance-profile",
          "name_prefix": "",
          "path": "/ops/",
          "role": "ken-test-222222",
          "tags": {
            "Name": "ken-test-222222-instance-profile",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "role",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          },
          "tags_all": {
            "Name": "ken-test-222222-instance-profile",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "role",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          },
          "unique_id": "AIPARBSPLA2CEH3JAYYQF"
        },
        "after": {
          "arn": "arn:aws:iam::072107099780:instance-profile/ops/ken-test-222222-instance-profile",
          "create_date": "2025-10-14T02:01:16Z",
          "id": "ken-test-222222-instance-profile",
          "name": "ken-test-222222-instance-profile",
          "name_prefix": "",
          "path": "/ops/",
          "role": "ken-test-222222",
          "tags": {
            "Name": "ken-test-222222-instance-profile",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-ken": "true",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "role",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          },
          "tags_all": {
            "Name": "ken-test-222222-instance-profile",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-ken": "true",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "role",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          },
          "unique_id": "AIPARBSPLA2CEH3JAYYQF"
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ken-test-222222.module.role[0].aws_iam_role.complete",
      "module_address": "module.ken-test-222222.module.role[0]",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "complete",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:iam::072107099780:role/test/ken-test-222222",
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "create_date": "2025-10-14T02:01:14Z",
          "description": "iam role default description",
          "force_detach_policies": false,
          "id": "ken-test-222222",
          "inline_policy": [],
          "managed_policy_arns": [
            "arn:aws:iam::072107099780:policy/internal-base-access",
            "arn:aws:iam::072107099780:policy/test/ken-test-222222"
          ],
          "max_session_duration": 3600,
          "name": "ken-test-222222",
          "name_prefix": "",
          "path": "/test/",
          "permissions_boundary": "",
          "tags": {
            "Name": "ken-test-222222",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "ken-test-222222",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          },
          "tags_all": {
            "Name": "ken-test-222222",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "ken-test-222222",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          },
          "unique_id": "AROARBSPLA2CG4TU27Q4Y"
        },
        "after": {
          "arn": "arn:aws:iam::072107099780:role/test/ken-test-222222",
          "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
          "create_date": "2025-10-14T02:01:14Z",
          "description": "iam role default description",
          "force_detach_policies": false,
          "id": "ken-test-222222",
          "inline_policy": [],
          "managed_policy_arns": [
            "arn:aws:iam::072107099780:policy/internal-base-access",
            "arn:aws:iam::072107099780:policy/test/ken-test-222222"
          ],
          "max_session_duration": 3600,
          "name": "ken-test-222222",
          "name_prefix": "",
          "path": "/test/",
          "permissions_boundary": "",
          "tags": {
            "Name": "ken-test-222222",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-ken": "true",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "ken-test-222222",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          },
          "tags_all": {
            "Name": "ken-test-222222",
            "business-line": "test",
            "managed-by": "ken",
            "managed-by-ken": "true",
            "managed-by-terraform": "true",
            "terraform-resource-depth": "0",
            "terraform-resource-name": "ken-test-222222",
            "terraform-resource-type": "module",
            "terraform-workspace-name": "default"
          },
          "unique_id": "AROARBSPLA2CG4TU27Q4Y"
        },
        "after_unknown": {},
        "before_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "inline_policy": [],
          "managed_policy_arns": [
            false,
            false
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ken-test-222222.module.role[0].aws_iam_role_policy_attachment.internal-base-policy[0]",
      "module_address": "module.ken-test-222222.module.role[0]",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "internal-base-policy",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "ken-test-222222-20251014020116065700000001",
          "policy_arn": "arn:aws:iam::072107099780:policy/internal-base-access",
          "role": "ken-test-222222"
        },
        "after": {
          "id": "ken-test-222222-20251014020116065700000001",
          "policy_arn": "arn:aws:iam::072107099780:policy/internal-base-access",
          "role": "ken-test-222222"
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    }
  ]
}
