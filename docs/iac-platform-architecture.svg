<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 960" font-family="system-ui, -apple-system, sans-serif">
  <rect width="960" height="960" fill="#fff" rx="8"/>

  <!-- Title -->
  <text x="480" y="28" text-anchor="middle" font-size="17" font-weight="700" fill="#1E293B">IaC Platform Architecture</text>

  <!-- Feature Highlights -->
  <rect x="20" y="46" width="920" height="22" rx="6" fill="#F1F5F9" stroke="#CBD5E1" stroke-width="1"/>
  <text x="480" y="61" text-anchor="middle" font-size="9.5" font-weight="600" fill="#334155">UI-first (no CLI) · Global Search · Schema-driven Form · Parameter Relations · AI-powered · Multi-role Collaboration</text>

  <!-- Roles -->
  <rect x="20" y="78" width="920" height="38" rx="6" fill="#F8FAFC" stroke="#CBD5E1" stroke-width="1"/>
  <text x="30" y="95" font-size="10" font-weight="700" fill="#1E293B">Roles</text>
  <rect x="120" y="84" width="190" height="26" rx="4" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="215" y="101" text-anchor="middle" font-size="9" fill="#334155">Platform Admin</text>
  <rect x="320" y="84" width="190" height="26" rx="4" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="415" y="101" text-anchor="middle" font-size="9" fill="#334155">Policy Engineer</text>
  <rect x="520" y="84" width="190" height="26" rx="4" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="615" y="101" text-anchor="middle" font-size="9" fill="#334155">Module Contributor</text>
  <rect x="720" y="84" width="210" height="26" rx="4" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="825" y="101" text-anchor="middle" font-size="9" fill="#334155">Delivery Engineer</text>

  <!-- ==================== Global Settings ==================== -->
  <rect x="20" y="128" width="920" height="196" rx="6" fill="#F8FAFC" stroke="#CBD5E1" stroke-width="1.2"/>
  <text x="30" y="145" font-size="11" font-weight="700" fill="#1E293B">Global Settings</text>

  <rect x="32" y="154" width="290" height="80" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="42" y="169" font-size="10" font-weight="600" fill="#334155">Agent Management</text>
  <text x="42" y="182" font-size="9" fill="#64748B">K8s auto-scaling · Custom deploy templates</text>
  <text x="42" y="194" font-size="9" fill="#64748B">Credential rotation · Network allowlist</text>
  <text x="42" y="206" font-size="9" fill="#64748B">Inactive zone auto-shutdown · Emergency thaw</text>
  <text x="42" y="218" font-size="9" fill="#64748B">Activity monitoring · Current task tracking</text>

  <rect x="335" y="154" width="290" height="80" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="345" y="169" font-size="10" font-weight="600" fill="#334155">IaC Engine</text>
  <text x="345" y="182" font-size="9" fill="#64748B">Terraform / OpenTofu dual-engine</text>
  <text x="345" y="194" font-size="9" fill="#64748B">Global default version config</text>
  <text x="345" y="206" font-size="9" fill="#64748B">Multi-version · Per-workspace config</text>
  <text x="345" y="218" font-size="9" fill="#64748B">Platform-level version management</text>

  <rect x="638" y="154" width="290" height="80" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="648" y="169" font-size="10" font-weight="600" fill="#334155">Run Tasks</text>
  <text x="648" y="182" font-size="9" fill="#64748B">Pre/Post Plan · Pre/Post Apply hooks</text>
  <text x="648" y="194" font-size="9" fill="#64748B">Mandatory / Advisory mode</text>
  <text x="648" y="206" font-size="9" fill="#64748B">Code security review</text>
  <text x="648" y="218" font-size="9" fill="#64748B">Single-approval workflow (planned)</text>

  <rect x="32" y="244" width="443" height="68" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="42" y="259" font-size="10" font-weight="600" fill="#334155">Notifications</text>
  <text x="42" y="272" font-size="9" fill="#64748B">Events: Completed · Created · Planning · Planned</text>
  <text x="42" y="284" font-size="9" fill="#64748B">Applying · Failed · Cancelled · Approval · Drift</text>
  <text x="42" y="296" font-size="9" fill="#64748B">Webhook integration · Custom channel support</text>

  <rect x="487" y="244" width="441" height="68" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="497" y="259" font-size="10" font-weight="600" fill="#334155">RBAC</text>
  <text x="497" y="272" font-size="9" fill="#64748B">Built-in roles · Custom roles · User groups · Audit logs</text>
  <text x="497" y="284" font-size="9" fill="#64748B">Personal token (session-bound) · Team token (persistent)</text>
  <text x="497" y="296" font-size="9" fill="#64748B">SSO (Auth0/Google/GitHub/Azure AD/Okta) · MFA</text>

  <!-- ==================== AI Services + Module Management ==================== -->
  <rect x="20" y="338" width="452" height="218" rx="6" fill="#F8FAFC" stroke="#CBD5E1" stroke-width="1.2"/>
  <text x="30" y="355" font-size="11" font-weight="700" fill="#1E293B">AI Services</text>

  <rect x="32" y="364" width="428" height="56" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="42" y="379" font-size="10" font-weight="600" fill="#334155">AI Base</text>
  <text x="42" y="392" font-size="9" fill="#64748B">Error analysis · Form resource generation · NL parsing</text>
  <text x="42" y="404" font-size="9" fill="#64748B">Security assertion (small model) before every LLM call</text>
  <text x="42" y="416" font-size="9" fill="#64748B">AI inherits user permissions for all operations</text>

  <rect x="32" y="426" width="428" height="56" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="42" y="441" font-size="10" font-weight="600" fill="#334155">Module Skill System</text>
  <text x="42" y="454" font-size="9" fill="#64748B">Auto-gen from OpenAPI V3 · Built-in Skill Generator</text>
  <text x="42" y="466" font-size="9" fill="#64748B">Flow: Schema → Assert → CMDB → Skill assembly → LLM → Resolver</text>
  <text x="42" y="478" font-size="9" fill="#64748B">SchemaSolver: final validation with auto-repair loop</text>

  <rect x="32" y="488" width="428" height="56" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="42" y="503" font-size="10" font-weight="600" fill="#334155">Skill Layering</text>
  <text x="42" y="516" font-size="9" fill="#64748B">Foundation: mandatory, cannot bypass</text>
  <text x="42" y="528" font-size="9" fill="#64748B">Domain: auto-loaded per context</text>
  <text x="42" y="540" font-size="9" fill="#64748B">Task: loaded per specific task type</text>

  <rect x="488" y="338" width="452" height="218" rx="6" fill="#F8FAFC" stroke="#CBD5E1" stroke-width="1.2"/>
  <text x="498" y="355" font-size="11" font-weight="700" fill="#1E293B">Module Management</text>

  <rect x="500" y="364" width="428" height="56" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="510" y="379" font-size="10" font-weight="600" fill="#334155">Versioning</text>
  <text x="510" y="392" font-size="9" fill="#64748B">Per-version Demo &amp; Schema (inheritable)</text>
  <text x="510" y="404" font-size="9" fill="#64748B">Auto-parse TF variables → OpenAPI V3</text>
  <text x="510" y="416" font-size="9" fill="#64748B">Visual Schema editor</text>

  <rect x="500" y="426" width="428" height="56" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="510" y="441" font-size="10" font-weight="600" fill="#334155">Schema</text>
  <text x="510" y="454" font-size="9" fill="#64748B">Form submission · Parameter grouping</text>
  <text x="510" y="466" font-size="9" fill="#64748B">Relations: mutual exclusion · dependency · complex types</text>
  <text x="510" y="478" font-size="9" fill="#64748B">Value source: CMDB / WS Output / Remote Workspace</text>

  <rect x="500" y="488" width="428" height="56" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="510" y="503" font-size="10" font-weight="600" fill="#334155">AI Capabilities</text>
  <text x="510" y="516" font-size="9" fill="#64748B">AI code generation · Auto form creation · Error fix</text>
  <text x="510" y="528" font-size="9" fill="#64748B">Prompt CRUD · AI assistant interface</text>
  <text x="510" y="540" font-size="9" fill="#64748B">Module Skill auto-generation</text>

  <!-- ==================== CMDB + Manifests + Data ==================== -->
  <rect x="20" y="570" width="360" height="100" rx="6" fill="#F8FAFC" stroke="#CBD5E1" stroke-width="1.2"/>
  <text x="30" y="587" font-size="11" font-weight="700" fill="#1E293B">CMDB</text>
  <text x="30" y="604" font-size="9" font-weight="600" fill="#334155">Internal</text>
  <text x="80" y="604" font-size="9" fill="#64748B">Auto-update on apply · Fields: arn/name/tag · Tree view</text>
  <text x="30" y="620" font-size="9" font-weight="600" fill="#334155">External</text>
  <text x="80" y="620" font-size="9" fill="#64748B">External CMDB sync · Vectorized data storage</text>
  <text x="30" y="636" font-size="9" font-weight="600" fill="#334155">AI</text>
  <text x="80" y="636" font-size="9" fill="#64748B">NL resource query · Context enrichment for generation</text>
  <text x="30" y="652" font-size="9" fill="#94A3B8">Manual sync · Incremental update on success/failure</text>

  <rect x="392" y="570" width="266" height="100" rx="6" fill="#F8FAFC" stroke="#CBD5E1" stroke-width="1.2"/>
  <text x="402" y="587" font-size="11" font-weight="700" fill="#1E293B">Manifests</text>
  <text x="402" y="606" font-size="9" fill="#64748B">Drag-and-drop module editing</text>
  <text x="402" y="620" font-size="9" fill="#64748B">Dependency visualization</text>
  <text x="402" y="634" font-size="9" fill="#64748B">Full Form / JSON / AI support</text>
  <text x="402" y="648" font-size="9" fill="#64748B">Multi-deployment with history</text>

  <rect x="670" y="570" width="270" height="100" rx="6" fill="#F8FAFC" stroke="#CBD5E1" stroke-width="1.2"/>
  <text x="680" y="587" font-size="11" font-weight="700" fill="#1E293B">Data Layer</text>
  <text x="680" y="606" font-size="9" fill="#64748B">PostgreSQL + pgvector</text>
  <text x="680" y="620" font-size="9" fill="#64748B">Version control · Per-run snapshots</text>
  <text x="680" y="634" font-size="9" fill="#64748B">Soft delete · Audit trail</text>
  <text x="680" y="648" font-size="9" fill="#64748B">Vector search · Full-text index</text>

  <!-- ==================== Workspace ==================== -->
  <rect x="20" y="684" width="920" height="254" rx="6" fill="#F8FAFC" stroke="#CBD5E1" stroke-width="1.2"/>
  <text x="30" y="701" font-size="11" font-weight="700" fill="#1E293B">Workspace (Core)</text>

  <rect x="32" y="710" width="896" height="22" rx="4" fill="#F1F5F9" stroke="#E2E8F0" stroke-width="1"/>
  <text x="480" y="725" text-anchor="middle" font-size="9" font-weight="600" fill="#334155">AI + CMDB → NL Config Generation → Schema as Compliance Spec → Secure Standardized Resource Creation</text>

  <rect x="32" y="742" width="215" height="78" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="42" y="757" font-size="10" font-weight="600" fill="#334155">Resources (Core)</text>
  <text x="42" y="770" font-size="9" fill="#64748B">Form/JSON dual-mode editing</text>
  <text x="42" y="782" font-size="9" fill="#64748B">Version control · Rollback · Diff</text>
  <text x="42" y="794" font-size="9" fill="#64748B">AI create/edit · Export</text>
  <text x="42" y="806" font-size="9" fill="#64748B">Resource lock · Draft mechanism</text>

  <rect x="257" y="742" width="215" height="78" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="267" y="757" font-size="10" font-weight="600" fill="#334155">Run &amp; Tasks</text>
  <text x="267" y="770" font-size="9" fill="#64748B">Run history · Status tracking</text>
  <text x="267" y="782" font-size="9" fill="#64748B">Structured change view</text>
  <text x="267" y="794" font-size="9" fill="#64748B">Phased logs · Comments</text>
  <text x="267" y="806" font-size="9" fill="#64748B">AI error analysis</text>

  <rect x="482" y="742" width="215" height="78" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="492" y="757" font-size="10" font-weight="600" fill="#334155">State</text>
  <text x="492" y="770" font-size="9" fill="#64748B">Card categorization view</text>
  <text x="492" y="782" font-size="9" fill="#64748B">JSON raw data · Retrieve IAM</text>
  <text x="492" y="794" font-size="9" fill="#64748B">Version management</text>
  <text x="492" y="806" font-size="9" fill="#64748B">Import validation</text>

  <rect x="707" y="742" width="221" height="78" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="717" y="757" font-size="10" font-weight="600" fill="#334155">Variables</text>
  <text x="717" y="770" font-size="9" fill="#64748B">Version control · Per-run snapshot</text>
  <text x="717" y="782" font-size="9" fill="#64748B">TF / System / Sensitive vars</text>
  <text x="717" y="794" font-size="9" fill="#64748B">API: arbitrary version access</text>
  <text x="717" y="806" font-size="9" fill="#64748B">Serial task flow support</text>

  <rect x="32" y="830" width="215" height="78" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="42" y="845" font-size="10" font-weight="600" fill="#334155">Output &amp; Remote</text>
  <text x="42" y="858" font-size="9" fill="#64748B">Cross-workspace linking</text>
  <text x="42" y="870" font-size="9" fill="#64748B">Allowlist · Global allow</text>
  <text x="42" y="882" font-size="9" fill="#64748B">Static Output · Remote WS call</text>
  <text x="42" y="894" font-size="9" fill="#64748B">Cross-workspace data sharing</text>

  <rect x="257" y="830" width="215" height="78" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="267" y="845" font-size="10" font-weight="600" fill="#334155">Drift Detection</text>
  <text x="267" y="858" font-size="9" fill="#64748B">Silent background check</text>
  <text x="267" y="870" font-size="9" fill="#64748B">Manual / Auto trigger</text>
  <text x="267" y="882" font-size="9" fill="#64748B">Custom schedule</text>

  <rect x="482" y="830" width="215" height="78" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="492" y="845" font-size="10" font-weight="600" fill="#334155">Configuration</text>
  <text x="492" y="858" font-size="9" fill="#64748B">Workspace lock</text>
  <text x="492" y="870" font-size="9" fill="#64748B">Provider version limit</text>
  <text x="492" y="882" font-size="9" fill="#64748B">Run Task config · Run Trigger</text>
  <text x="492" y="894" font-size="9" fill="#64748B">Notification settings</text>

  <rect x="707" y="830" width="221" height="78" rx="5" fill="#fff" stroke="#E2E8F0" stroke-width="1"/>
  <text x="717" y="845" font-size="10" font-weight="600" fill="#334155">Version Control</text>
  <text x="717" y="858" font-size="9" fill="#64748B">Resource / Variable / State versioning</text>
  <text x="717" y="870" font-size="9" fill="#64748B">Draft mechanism · Stale alerts</text>
  <text x="717" y="882" font-size="9" fill="#64748B">Soft delete with recovery</text>
  <text x="717" y="894" font-size="9" fill="#64748B">Arbitrary version diff</text>

  <!-- Footer -->
  <text x="480" y="948" text-anchor="middle" font-size="9" fill="#94A3B8">PostgreSQL + pgvector · Go + Gin · React + TypeScript · Terraform / OpenTofu · AWS Bedrock</text>
</svg>
