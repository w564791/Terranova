/* OpenAPI Form Renderer 样式 */

.formRenderer {
  width: 100%;
}

/* 只读模式样式 - 所有内容变灰 */
.formRendererReadOnly {
  /* 整体灰色滤镜 */
  filter: grayscale(30%);
  opacity: 0.85;
}

.formRendererReadOnly :global(.ant-form-item-label > label) {
  color: var(--color-gray-500) !important;
}

.formRendererReadOnly :global(.ant-input),
.formRendererReadOnly :global(.ant-input-number),
.formRendererReadOnly :global(.ant-select-selector),
.formRendererReadOnly :global(.ant-picker),
.formRendererReadOnly :global(.ant-input-textarea textarea) {
  background-color: var(--color-gray-100) !important;
  border-color: var(--color-gray-300) !important;
  color: var(--color-gray-600) !important;
  cursor: not-allowed !important;
}

.formRendererReadOnly :global(.ant-input[disabled]),
.formRendererReadOnly :global(.ant-input-number-disabled),
.formRendererReadOnly :global(.ant-select-disabled .ant-select-selector),
.formRendererReadOnly :global(.ant-picker-disabled),
.formRendererReadOnly :global(.ant-input-textarea-disabled textarea) {
  background-color: var(--color-gray-100) !important;
  border-color: var(--color-gray-300) !important;
  color: var(--color-gray-600) !important;
}

.formRendererReadOnly :global(.ant-select-selection-item),
.formRendererReadOnly :global(.ant-select-selection-placeholder) {
  color: var(--color-gray-600) !important;
}

.formRendererReadOnly :global(.ant-switch) {
  opacity: 0.6;
}

.formRendererReadOnly :global(.ant-tag) {
  background-color: var(--color-gray-200) !important;
  border-color: var(--color-gray-300) !important;
  color: var(--color-gray-600) !important;
}

.formRendererReadOnly :global(.ant-btn) {
  opacity: 0.6;
  cursor: not-allowed !important;
}

.formRendererReadOnly :global(.ant-form-item-explain),
.formRendererReadOnly :global(.ant-form-item-extra) {
  color: var(--color-gray-400) !important;
}

/* 只读模式下的代码编辑器 */
.formRendererReadOnly :global(.monaco-editor),
.formRendererReadOnly :global(.cm-editor) {
  opacity: 0.7;
}

/* 只读模式下的 Collapse 和 Section */
.formRendererReadOnly .sectionHeader,
.formRendererReadOnly .groupHeader {
  background-color: var(--color-gray-100) !important;
  color: var(--color-gray-600) !important;
}

.formRendererReadOnly .sectionTitle {
  color: var(--color-gray-600) !important;
}

.formRendererReadOnly .fieldCount {
  background: var(--color-gray-200) !important;
  color: var(--color-gray-500) !important;
}

/* AI 助手包装器 */
.aiAssistantWrapper {
  margin-bottom: var(--spacing-lg);
}

.formCollapse {
  background: transparent;
  border: none;
}

.formCollapse :global(.ant-collapse-item) {
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  margin-bottom: var(--spacing-md);
  overflow: hidden;
}

.formCollapse :global(.ant-collapse-header) {
  background: var(--color-gray-50);
  font-weight: var(--font-weight-medium);
}

.formCollapse :global(.ant-collapse-content) {
  border-top: 1px solid var(--color-gray-200);
}

.groupHeader {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

.fieldCount {
  background: var(--color-blue-100);
  color: var(--color-blue-600);
  padding: 2px 8px;
  border-radius: var(--radius-full);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
}

.fieldGroup {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
}

/* 标签页布局 */
.formTabs {
  width: 100%;
}

.formTabs :global(.ant-tabs-nav) {
  margin-bottom: var(--spacing-md);
}

.tabHeader {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
}

/* 分区布局（始终展开） */
.formSections {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.formSection {
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  overflow: hidden;
}

.sectionHeader {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-md) var(--spacing-lg);
  background: var(--color-gray-50);
  border-bottom: 1px solid var(--color-gray-200);
}

.sectionTitle {
  font-weight: var(--font-weight-medium);
  color: var(--color-gray-800);
}

.formSection .fieldGroup {
  padding: var(--spacing-lg);
}

/* 混合布局 */
.formMixed {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-lg);
}

.formMixed .formCollapse {
  margin-bottom: 0;
}

.formMixed .formSection {
  margin-bottom: 0;
}

/* 禁用字段包装器 */
.disabledFieldWrapper {
  position: relative;
  display: flex;
  align-items: flex-start;
  gap: var(--spacing-sm);
}

.disabledReasonIcon {
  color: var(--color-orange-500);
  font-size: 14px;
  margin-top: 32px;
  cursor: help;
}

/* 响应式 */
@media (max-width: 768px) {
  .formCollapse :global(.ant-collapse-item) {
    border-radius: var(--radius-md);
  }
  
  .formSection {
    border-radius: var(--radius-md);
  }
  
  .sectionHeader {
    padding: var(--spacing-sm) var(--spacing-md);
  }
  
  .formSection .fieldGroup {
    padding: var(--spacing-md);
  }
}
